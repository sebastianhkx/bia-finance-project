(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{135:function(e,t,n){var i=n(0),o=n(207);i.render(i.createElement(o,null),document.getElementById("search"));var a=n(208);i.render(i.createElement(a,null),document.getElementById("time"));var s=document.getElementById("account-dropdown");if(s){var r=n(209);i.render(i.createElement(r,null),s)}window.MenuInit=function(){},window.SearchFocus=function(){i.render(i.createElement(o,{focus:!0}),document.getElementById("search"))}},207:function(e,t,n){var i,o=n(0),a="";function s(e){var t="";if(0===e.indexOf("@")){e=e.substring(1);t=-1!==["BTCUSD","LTCUSD","ETHUSD","XRPUSD","BCHUSD","BTCEUR","LTCEUR","ETHEUR","XRPEUR","BCHEUR","LTCBTC","ETHBTC","XRPBTC","BCHBTC"].indexOf(e)?"/crypto_charts.ashx?t=":6===e.length?"/forex_charts.ashx?t=":"/futures_charts.ashx?t="}else t="/quote.ashx?t=",","===(e=(e=(e=e.replace(/\./g,"-")).replace(/ /g,",")).replace(/,,/g,",")).charAt(0)&&(e=e.substr(1));return t+encodeURIComponent(e)+a}window.SetSearchExt=function(e){a=e};var r=o.createClass({displayName:"Search",getInitialState:function(){return{input:"",highlight:"",data:[],focused:!1,selected:-1}},render:function(){var e=!!this.props.focus;return o.createElement("div",null,o.createElement(c,{onChange:this._onChange,onFocus:this._onFocus,onBlur:this._onBlur,onArrowUp:this._onArrowUp,onArrowDown:this._onArrowDown,value:this.state.input,data:this.state.data,focus:e}),o.createElement(u,{input:this.state.input,highlight:this.state.highlight,data:this.state.data,selected:this.state.selected,focused:this.state.focused}))},_onChange:function(e){!function(e,t,n){if(i&&i.abort(),""!==e){var o=new XMLHttpRequest;o.open("GET","/api/suggestions.ashx?input="+encodeURIComponent(e),!0),o.onreadystatechange=function(){if(4===this.readyState&&this.status>=200&&this.status<400){var e=JSON.parse(this.responseText);t(e)}},o.send(),i=o,o=null}else setTimeout(function(){t([])},0)}(e,function(t){this.setState({data:t,highlight:e})}.bind(this)),this.setState({input:e,selected:-1})},_onFocus:function(){clearTimeout(this.blurTimeout),this.setState({focused:!0})},_onBlur:function(){this.setState({focused:!1})},_onArrowUp:function(){if(this.state.selected>0){var e=this.state.selected-1;this.setState({selected:e,input:this.state.data[e].ticker})}},_onArrowDown:function(){if(this.state.selected<this.state.data.length-1){var e=this.state.selected+1;this.setState({selected:e,input:this.state.data[e].ticker})}}}),c=o.createClass({displayName:"Input",placeholderText:"Search ticker, company or profile",getInitialState:function(){return{firstFocus:!0,placeholderSupported:null!=document.createElement("input").placeholder}},render:function(){var e=this.props.value;return o.createElement("form",{onSubmit:this._onSubmit},o.createElement("input",{placeholder:this.placeholderText,type:"text",ref:"input",value:e,className:""!=e?"is-focused":"",onChange:this._onChange,onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp,onFocus:this._onFocus,onBlur:this._onBlur}),o.createElement("span",{className:"fa fa-search",onClick:this._onSubmit}))},_onChange:function(e){e.preventDefault();var t=this.refs.input.getDOMNode().value;this.props.onChange(t)},_onSubmit:function(e){e.preventDefault(),window.location=s(this.props.value)},_onKeyDown:function(e){"ArrowUp"!=e.key&&"ArrowDown"!=e.key||e.preventDefault()},_onFocus:function(e){this.props.onFocus(e)},_onBlur:function(e){this.props.onBlur(e)},_onKeyUp:function(e){"ArrowUp"==e.key?(e.preventDefault(),this.props.onArrowUp()):"ArrowDown"==e.key&&(e.preventDefault(),this.props.onArrowDown())},componentDidMount:function(){this._focus()},componentDidUpdate:function(){this._focus()},_focus:function(){this.props.focus&&this.state.firstFocus&&!this._isMobile()&&(this.refs.input.getDOMNode().focus(),this.setState({firstFocus:!1}))},_isMobile:function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)}}),u=o.createClass({displayName:"SuggestionsBox",render:function(){var e=this,t=this.props.data,n="/search.ashx?p="+encodeURIComponent(this.props.input);return o.createElement("table",{className:"suggestions-box",style:{display:this.props.focused&&(t.length>0||this.props.highlight.length>2)?"table":"none"},cellPadding:"0",cellSpacing:"0",border:"0"},o.createElement("tbody",null,t.map(function(t,n){return o.createElement("tr",{onMouseDown:e._onClick.bind(e,t.ticker),className:n==e.props.selected?"active":"",key:t.ticker},o.createElement("td",{className:"ticker",dangerouslySetInnerHTML:{__html:e._formatTicker(t.ticker)}}),o.createElement("td",{className:"company",dangerouslySetInnerHTML:{__html:e._formatCompany(t.company)}}),o.createElement("td",{className:"exchange"},t.exchange))}),this.props.highlight.length>0&&o.createElement("tr",{className:"links"},o.createElement("td",{colSpan:"3"},o.createElement("table",{width:"100%",cellPadding:"0",cellSpacing:"0",border:"0"},o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",{width:"100%"},o.createElement("a",{onMouseDown:function(){return window.location=n},className:"search-company"},"Search")))))))))},_onClick:function(e,t){0===t.button&&(window.location=s(e))},_formatTicker:function(e){var t=this.props.highlight.toUpperCase();return e.replace(t,"<b>"+t+"</b>")},_formatCompany:function(e){var t=this.props.highlight,n=new RegExp(this._escapeRegExp(t),"gi");return e.replace(n,function(e){return"<b>"+e+"</b>"})},_escapeRegExp:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}});e.exports=r},208:function(e,t,n){var i=n(0),o=n(47),a=o.getTimeString,s=o.isPremarket,r=i.createClass({displayName:"Time",getInitialState:function(){return this._getState()},componentDidMount:function(){this.interval=setInterval(this.tick,1e4)},componentWillUnmount:function(){clearInterval(this.interval)},tick:function(){this.setState(this._getState())},render:function(){return i.createElement("span",null,this.state.isPremarket&&i.createElement("span",{style:{color:"#ffffff",backgroundColor:"#ff2222",padding:1,marginRight:4}}," PREMARKET "),this.state.timeString)},_getState:function(){return{timeString:a(),isPremarket:s()}}});e.exports=r},209:function(e,t,n){var i=n(0),o=i.createClass({displayName:"Settings",getInitialState:function(){return{open:!1}},componentWillUnmount:function(){document.removeEventListener?document.removeEventListener("click",this._onDocumentClick):document.detachEvent("onclick",this._onDocumentClick)},render:function(){var e="nav-link sign-in account-btn is-account";return this.state.open&&(e+=" is-open"),i.createElement("div",{style:{position:"relative"}},i.createElement("a",{href:"javascript:void(0)",className:e,onClick:this._showDropDown},i.createElement("span",{className:"fa fa-user"}),FinvizSettings.name),i.createElement("ul",{className:"dropdown-menu",style:{display:this.state.open?"block":"none"}},i.createElement("li",null,i.createElement("a",{className:"menu-item",href:"/myaccount.ashx"},"Settings")),i.createElement("li",null,i.createElement("a",{className:"menu-item",href:"/logout.ashx"},"Sign out"))))},_showDropDown:function(){this.setState({open:!0}),document.addEventListener?document.addEventListener("click",this._onDocumentClick):document.attachEvent("onclick",this._onDocumentClick)},_hideDropDown:function(){this.setState({open:!1}),document.removeEventListener?document.removeEventListener("click",this._onDocumentClick):document.detachEvent("onclick",this._onDocumentClick)},_onDocumentClick:function(e){-1===(e.target||e.srcElement).className.indexOf("menu-item")&&this._hideDropDown()}});e.exports=o},47:function(e,t){var n=function(){var e=new Date;return e.setTime(e.getTime()+60*(e.getTimezoneOffset()+-240)*1e3),e};e.exports={getTimeString:function(){var e=n(),t="";t+=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()].substring(0,3)+" ",t+=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][e.getMonth()]+" ";var i=e.getDate();i<10&&(i="0"+i),t+=i+" ",t+=e.getFullYear()+" ";var o=e.getHours(),a="AM";o>=12&&(a="PM"),o>12&&(o-=12),0==o&&(o=12),t+=o+":";var s=e.getMinutes();return s<10&&(s="0"+s),t+=s+" "+a,t+=" EST"},isPremarket:function(){var e=n(),t=e.getDay(),i=e.getMinutes(),o=!1;return FinvizSettings.hasUserPremium&&0!=t&&6!=t&&9==e.getHours()&&i<30&&(o=!0),o}}}},[[135,0,1]]]);
//# sourceMappingURL=header.bundle.js.map